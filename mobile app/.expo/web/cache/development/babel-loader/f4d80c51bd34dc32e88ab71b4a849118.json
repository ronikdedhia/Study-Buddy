{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContainerStyle = exports.generateBackgroundColor = exports.generateBackgroundStyle = exports.fetchImage = exports.sumChars = exports.abbr = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _initials = _interopRequireDefault(require(\"initials\"));\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\nvar abbr = function abbr(name, noUpperCase) {\n  var abbr = (0, _initials.default)(name, noUpperCase);\n  if (name.startsWith('+')) {\n    abbr = \"+\".concat(abbr);\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  if (abbr.length > 2) {\n    abbr = abbr.substring(0, 2);\n  }\n  if (!noUpperCase) {\n    abbr = abbr.toUpperCase();\n  }\n  return abbr;\n};\nexports.abbr = abbr;\nvar sumChars = function sumChars(str) {\n  var sum = 0;\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum;\n};\nexports.sumChars = sumChars;\nvar fetchImage = function fetchImage(src, options) {\n  var fetchCall, contentTypeHeader;\n  return _regenerator.default.async(function fetchImage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regenerator.default.awrap((0, _nodeFetch.default)(src, options));\n        case 3:\n          fetchCall = _context.sent;\n          contentTypeHeader = _reactNative.Platform.OS === 'web' ? fetchCall.headers.get('content-type') : fetchCall.headers.map['content-type'];\n          if (!contentTypeHeader.startsWith('image/')) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", true);\n        case 9:\n          console.warn('Online fetched source is not a supported image');\n          return _context.abrupt(\"return\", false);\n        case 11:\n          _context.next = 17;\n          break;\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          console.warn('Error fetching source, falling back to initials', _context.t0);\n          return _context.abrupt(\"return\", false);\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 13]], Promise);\n};\nexports.fetchImage = fetchImage;\nvar generateBackgroundStyle = function generateBackgroundStyle(name, bgColor, bgColors) {\n  var background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    var i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {\n    backgroundColor: background\n  };\n};\nexports.generateBackgroundStyle = generateBackgroundStyle;\nvar generateBackgroundColor = function generateBackgroundColor(name, bgColor, bgColors) {\n  var background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    var i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return background;\n};\nexports.generateBackgroundColor = generateBackgroundColor;\nvar getContainerStyle = function getContainerStyle(size, src, borderRadius) {\n  return {\n    borderRadius: borderRadius ? borderRadius : size * 0.5,\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n};\nexports.getContainerStyle = getContainerStyle;","map":{"version":3,"mappings":"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","names":["abbr","name","noUpperCase","startsWith","console","warn","length","substring","toUpperCase","sumChars","str","sum","i","charCodeAt","fetchImage","src","options","_context","fetchCall","contentTypeHeader","Platform","OS","headers","get","map","generateBackgroundStyle","bgColor","bgColors","background","backgroundColor","generateBackgroundColor","getContainerStyle","size","borderRadius","borderWidth","borderColor","justifyContent","alignItems"],"sources":["helpers.js"],"sourcesContent":["import {Platform} from 'react-native';\nimport initials from 'initials';\nimport fetch from 'node-fetch';\n\nexport const abbr = (name, noUpperCase) => {\n  let abbr = initials(name, noUpperCase);\n  if (name.startsWith('+')) {\n    abbr = `+${ abbr }`;\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  if (abbr.length > 2) {\n    abbr = abbr.substring(0, 2);\n  }\n  if (!noUpperCase) {\n    abbr = abbr.toUpperCase();\n  }\n  return abbr;\n};\n\nexport const sumChars = (str) => {\n  let sum = 0;\n  for (let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n};\n\nexport const fetchImage = async (src, options) => {\n  try {\n    const fetchCall = await fetch(src, options);\n    const contentTypeHeader = Platform.OS === 'web' ?\n      fetchCall.headers.get('content-type') :\n      fetchCall.headers.map['content-type'];\n    if (contentTypeHeader.startsWith('image/')) {\n      return true;\n    } else {\n      console.warn('Online fetched source is not a supported image');\n      return false;\n    }\n  } catch (err) {\n    console.warn('Error fetching source, falling back to initials', err);\n    return false;\n  }\n};\n\nexport const generateBackgroundStyle = (name, bgColor, bgColors) => {\n  let background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    // Pick a deterministic color from the list\n    const i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {backgroundColor: background};\n};\n\nexport const generateBackgroundColor = (name, bgColor, bgColors) => {\n  let background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    // Pick a deterministic color from the list\n    const i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return background;\n};\n\nexport const getContainerStyle = (size, src, borderRadius) => {\n  return {\n    borderRadius: borderRadius ? borderRadius : (size * 0.5),\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n};\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport Colors from \"../constants/colors\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport * as Font from \"expo-font\";\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport EntryCard from \"../components/entryRecordCard\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport Constants from \"../constants/text\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar fetchFonts = function fetchFonts() {\n  console.log(\"loading font\");\n  return Font.loadAsync({\n    \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\n    \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\n    \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\n    \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\")\n  });\n};\nexport default function EntryRecords(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dataLoaded = _useState4[0],\n    setDataLoaded = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    historyData = _useState6[0],\n    setHistoryData = _useState6[1];\n  var request_history = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield AsyncStorage.getItem(\"userData\");\n        response = JSON.parse(response);\n        axios.get(Constants.ApiLink + \"/api/history/\" + response.data.user_email).then(function () {\n          var _ref3 = _asyncToGenerator(function* (response) {\n            try {\n              var jsonValue = response.data.data;\n              console.log(jsonValue, \"heyy\");\n              setHistoryData(jsonValue);\n              setDataLoaded(true);\n              console.log(\"data: \" + jsonValue);\n            } catch (e) {\n              console.log(\"Got error while storing data to async\" + e);\n            }\n          });\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }()).catch(function (error) {\n          console.log(\"ERROR ON HOME\", error);\n        }).finally(function () {});\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setDataLoaded(true);\n      }\n    });\n    return function request_history() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var radio_props = [{\n    label: 'High ',\n    value: 0\n  }, {\n    label: 'Medium ',\n    value: 1\n  }, {\n    label: 'Low ',\n    value: 2\n  }];\n  var init = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield fetchFonts();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setDataLoaded(true);\n      }\n    });\n    return function init() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    init();\n    request_history();\n  }, []);\n  if (!dataLoaded) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"Loading....\"\n      })\n    });\n  } else {\n    return _jsxs(View, {\n      style: {\n        paddingHorizontal: wp(\"4%\"),\n        backgroundColor: \"white\"\n      },\n      children: [_jsxs(View, {\n        style: {\n          paddingBottom: \"7%\",\n          paddingTop: \"4%\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: {\n            position: \"absolute\",\n            top: hp(\"2%\")\n          },\n          children: _jsx(MaterialIcons, {\n            onPress: function onPress() {\n              return navigation.navigate('Home');\n            },\n            name: \"keyboard-backspace\",\n            size: 24,\n            color: \"black\"\n          })\n        }), _jsx(View, {\n          style: {\n            alignItems: \"center\",\n            flexGrow: 1\n          },\n          children: _jsx(Text, {\n            style: {\n              fontFamily: \"Quicksand-Bold\",\n              fontSize: 20,\n              color: \"black\",\n              textAlign: \"center\"\n            },\n            children: \"Your reports\"\n          })\n        })]\n      }), _jsx(FlatList, {\n        style: {\n          marginBottom: hp(\"10%\")\n        },\n        numColumns: 1,\n        data: historyData,\n        renderItem: function renderItem(_ref5) {\n          var item = _ref5.item;\n          return _jsx(EntryCard, {\n            props: item\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })]\n    });\n  }\n}\nvar styles = StyleSheet.create({\n  row: {\n    flex: 1,\n    justifyContent: \"space-around\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Colors","Font","Entypo","MaterialIcons","Localization","i18n","widthPercentageToDP","wp","heightPercentageToDP","hp","EntryCard","axios","AsyncStorage","Constants","fetchFonts","console","log","loadAsync","require","EntryRecords","navigation","userData","setUserData","dataLoaded","setDataLoaded","historyData","setHistoryData","request_history","response","getItem","JSON","parse","get","ApiLink","data","user_email","then","jsonValue","e","catch","error","finally","warn","radio_props","label","value","init","paddingHorizontal","backgroundColor","paddingBottom","paddingTop","position","top","navigate","alignItems","flexGrow","fontFamily","fontSize","color","textAlign","marginBottom","item","id","styles","StyleSheet","create","row","flex","justifyContent"],"sources":["C:/Users/rudra/OneDrive/Desktop/Projects/BitNBuild/studybuddy/screens/entryRecord.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Colors from '../constants/colors';\r\nimport { StyleSheet, SafeAreaView, ScrollView, TouchableOpacity, TextInput, Text, View, Modal, Linking, Platform, Image, Alert, FlatList } from 'react-native';\r\nimport * as Font from \"expo-font\";\r\nimport { Entypo, MaterialIcons } from '@expo/vector-icons';\r\nimport * as Localization from 'expo-localization';\r\nimport i18n from 'i18n-js';\r\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\r\nimport EntryCard from '../components/entryRecordCard';\r\nimport axios from \"axios\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport Constants from '../constants/text'\r\n\r\nconst fetchFonts = () => {\r\n    console.log(\"loading font\");\r\n    return Font.loadAsync({\r\n        \"Quicksand-regular\": require(\"../assets/fonts/Quicksand-Regular.ttf\"),\r\n        \"Quicksand-medium\": require(\"../assets/fonts/Quicksand-Medium.ttf\"),\r\n        \"Quicksand-Bold\": require(\"../assets/fonts/Quicksand-Bold.ttf\"),\r\n        \"Quicksand-SemiBold\": require(\"../assets/fonts/Quicksand-SemiBold.ttf\"),\r\n    });\r\n};\r\n\r\nexport default function EntryRecords({ navigation }) {\r\n\r\n    const [userData, setUserData] = useState({});\r\n    const [dataLoaded, setDataLoaded] = useState(false);\r\n    const [historyData, setHistoryData] = useState({});\r\n\r\n    const request_history = async () => {\r\n        try {\r\n\r\n            let response = await AsyncStorage.getItem(\"userData\")\r\n            response = JSON.parse(response);\r\n\r\n            axios\r\n                .get(`${Constants.ApiLink}/api/history/${response.data.user_email}`)\r\n                .then(async function (response) {\r\n                    // handle success\r\n\r\n                    try {\r\n                        const jsonValue = response.data.data\r\n                        console.log(jsonValue,\"heyy\")\r\n                        setHistoryData(jsonValue)\r\n                        setDataLoaded(true);\r\n                        console.log(\"data: \" + jsonValue);\r\n                    } catch (e) {\r\n                        // saving error\r\n                        console.log(\"Got error while storing data to async\" + e);\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    // handle error\r\n                    console.log(\"ERROR ON HOME\", error);\r\n                })\r\n                .finally(function () {\r\n                    // always executed\r\n                });\r\n            // await fetchFonts();\r\n        } catch (e) {\r\n            console.warn(e);\r\n        } finally {\r\n            setDataLoaded(true);\r\n            // Hiding the SplashScreen\r\n\r\n        }\r\n    }\r\n\r\n    var radio_props = [\r\n        { label: 'High ', value: 0 },\r\n        { label: 'Medium ', value: 1 },\r\n        { label: 'Low ', value: 2 }\r\n    ];\r\n\r\n\r\n\r\n    const init = async () => {\r\n        try {\r\n            // Keep on showing the SlashScreen\r\n\r\n\r\n            await fetchFonts();\r\n        } catch (e) {\r\n            console.warn(e);\r\n        } finally {\r\n            setDataLoaded(true);\r\n            // Hiding the SplashScreen\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        init();\r\n        request_history();\r\n    }, []);\r\n\r\n\r\n    if (!dataLoaded) {\r\n        return (\r\n            <View>\r\n                <Text>Loading....</Text>\r\n            </View>\r\n        );\r\n    } else {\r\n        return (\r\n            <View style={{ paddingHorizontal: wp(\"4%\"), backgroundColor: \"white\" }}>\r\n                <View style={{ paddingBottom: \"7%\", paddingTop: \"4%\" }}>\r\n                    <TouchableOpacity style={{ position: \"absolute\", top: hp(\"2%\") }}>\r\n                        <MaterialIcons         onPress={() => navigation.navigate('Home')}\r\n name=\"keyboard-backspace\" size={24} color=\"black\" />\r\n                    </TouchableOpacity>\r\n                    <View style={{ alignItems: \"center\", flexGrow: 1 }}>\r\n                        <Text style={{ fontFamily: \"Quicksand-Bold\", fontSize: 20, color: \"black\", textAlign: \"center\" }} >Your reports</Text>\r\n                    </View>\r\n                    \r\n                </View>\r\n                {/* {console.log(item)} */}\r\n                <FlatList\r\n                    style={{ marginBottom: hp(\"10%\") }}\r\n                    numColumns={1}                  // set number of columns \r\n                    \r\n                    data={historyData}\r\n                    renderItem={({ item }) => <EntryCard props={item} />}\r\n                    keyExtractor={item => item.id}\r\n                />\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    row: {\r\n        flex: 1,\r\n        justifyContent: \"space-around\",\r\n    }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}
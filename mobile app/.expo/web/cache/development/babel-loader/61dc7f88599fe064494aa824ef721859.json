{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"generateBackgroundColor\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.generateBackgroundColor;\n  }\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nrequire(\"abortcontroller-polyfill/dist/abortcontroller-polyfill-only\");\nvar _components = require(\"./components/\");\nvar _helpers = require(\"./helpers\");\nvar _jsxFileName = \"/Users/Avishay.Bar/dev/personal/react-native-user-avatar/src/index.js\";\n;\nvar UserAvatar = function UserAvatar(props) {\n  var name = props.name,\n    src = props.src,\n    bgColor = props.bgColor,\n    bgColors = props.bgColors,\n    textColor = props.textColor,\n    size = props.size,\n    imageStyle = props.imageStyle,\n    style = props.style,\n    borderRadius = props.borderRadius,\n    component = props.component,\n    noUpperCase = props.noUpperCase,\n    textStyle = props.textStyle;\n  if (typeof size === 'string') {\n    console.warn('size prop should be a number');\n    size = parseInt(size);\n  }\n  var _useState = (0, _react.useState)(_react.default.createElement(_components.TextAvatar, {\n      textColor: textColor,\n      size: size,\n      name: name,\n      noUpperCase: noUpperCase,\n      textStyle: textStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    })),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    inner = _useState2[0],\n    setInner = _useState2[1];\n  (0, _react.useEffect)(function () {\n    if (component) {\n      setInner(_react.default.createElement(_components.CustomAvatar, {\n        size: size,\n        component: component,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 16\n        }\n      }));\n    } else if (src) {\n      var controller = new (AbortController || window.AbortController)();\n      (0, _helpers.fetchImage)(src, {\n        signal: controller.signal\n      }).then(function (isImage) {\n        if (isImage) {\n          setInner(_react.default.createElement(_components.ImageAvatar, {\n            src: src,\n            size: size,\n            imageStyle: imageStyle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }\n          }));\n        }\n      });\n      return function () {\n        return controller.abort();\n      };\n    } else {\n      setInner(_react.default.createElement(_components.TextAvatar, {\n        textColor: textColor,\n        size: size,\n        name: name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 16\n        }\n      }));\n    }\n  }, [textColor, size, name, component, imageStyle, src]);\n  return _react.default.createElement(_reactNative.View, {\n    style: [(0, _helpers.generateBackgroundStyle)(name, bgColor, bgColors), (0, _helpers.getContainerStyle)(size, src, borderRadius), style],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, inner);\n};\nUserAvatar.propTypes = {\n  name: _propTypes.default.string,\n  src: _propTypes.default.string,\n  bgColor: _propTypes.default.string,\n  bgColors: _propTypes.default.array,\n  textColor: _propTypes.default.string,\n  size: _propTypes.default.number,\n  imageStyle: _propTypes.default.object,\n  style: _propTypes.default.object,\n  textStyle: _propTypes.default.object,\n  borderRadius: _propTypes.default.number,\n  component: _propTypes.default.any,\n  noUpperCase: _propTypes.default.bool,\n  textStyle: _propTypes.default.object\n};\nUserAvatar.defaultProps = {\n  size: 32,\n  textColor: '#fff',\n  name: 'John Doe',\n  bgColors: ['#2ecc71', '#3498db', '#8e44ad', '#e67e22', '#e74c3c', '#1abc9c', '#2c3e50'],\n  textStyle: {}\n};\nvar _default = UserAvatar;\nexports.default = _default;","map":{"version":3,"sources":["index.js"],"names":["UserAvatar","props","name","src","bgColor","bgColors","textColor","size","imageStyle","style","borderRadius","component","noUpperCase","textStyle","console","warn","parseInt","inner","setInner","controller","AbortController","window","signal","then","isImage","abort","propTypes","PropTypes","string","array","number","object","any","bool","defaultProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {View} from 'react-native';\nimport 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only';\n\nimport {\n  TextAvatar,\n  ImageAvatar,\n  CustomAvatar,\n} from './components/'; ;\nimport {\n  fetchImage,\n  getContainerStyle,\n  generateBackgroundStyle,\n  generateBackgroundColor,\n} from './helpers';\n\nconst UserAvatar = (props) => {\n  let {\n    name,\n    src,\n    bgColor,\n    bgColors,\n    textColor,\n    size,\n    imageStyle,\n    style,\n    borderRadius,\n    component,\n    noUpperCase,\n    textStyle,\n  } = props;\n\n  // Validations\n  if (typeof (size) === 'string') {\n    console.warn('size prop should be a number');\n    size = parseInt(size);\n  }\n\n  const [inner, setInner] = useState(\n      <TextAvatar\n        textColor={textColor}\n        size={size}\n        name={name}\n        noUpperCase={noUpperCase}\n        textStyle={textStyle}\n      />);\n\n  useEffect(() => {\n    if (component) {\n      setInner(<CustomAvatar size={size} component={component} />);\n    } else if (src) {\n      const controller = new (AbortController || window.AbortController)();\n      fetchImage(src, {signal: controller.signal}).then((isImage) => {\n        if (isImage) {\n          setInner(\n              <ImageAvatar src={src} size={size} imageStyle={imageStyle} />,\n          );\n        }\n      });\n      return () => controller.abort();\n    } else {\n      setInner(<TextAvatar textColor={textColor} size={size} name={name} />);\n    }\n  }, [textColor, size, name, component, imageStyle, src]);\n\n  return (\n    <View style={[\n      generateBackgroundStyle(name, bgColor, bgColors),\n      getContainerStyle(size, src, borderRadius),\n      style]}\n    >\n      {inner}\n    </View>\n  );\n};\n\nUserAvatar.propTypes = {\n  name: PropTypes.string,\n  src: PropTypes.string,\n  bgColor: PropTypes.string,\n  bgColors: PropTypes.array,\n  textColor: PropTypes.string,\n  size: PropTypes.number,\n  imageStyle: PropTypes.object,\n  style: PropTypes.object,\n  textStyle: PropTypes.object,\n  borderRadius: PropTypes.number,\n  component: PropTypes.any,\n  noUpperCase: PropTypes.bool,\n  textStyle: PropTypes.object,\n};\n\nUserAvatar.defaultProps = {\n  size: 32,\n  textColor: '#fff',\n  name: 'John Doe',\n  bgColors: [ // from https://flatuicolors.com/\n    '#2ecc71', // emerald\n    '#3498db', // peter river\n    '#8e44ad', // wisteria\n    '#e67e22', // carrot\n    '#e74c3c', // alizarin\n    '#1abc9c', // turquoise\n    '#2c3e50', // midnight blue\n  ],\n  textStyle: {},\n};\n\nexport {generateBackgroundColor};\n\nexport default UserAvatar;\n"]},"metadata":{},"sourceType":"script"}
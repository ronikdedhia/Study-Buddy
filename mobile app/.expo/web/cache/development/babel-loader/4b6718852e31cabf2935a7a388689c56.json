{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"./Text\";\nimport { usePaletteColor } from \"./hooks/use-palette-color\";\nimport { useStyles } from \"./hooks/use-styles\";\nvar Avatar = function Avatar(_ref) {\n  var label = _ref.label,\n    image = _ref.image,\n    icon = _ref.icon,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 56 : _ref$size,\n    _ref$color = _ref.color,\n    color = _ref$color === void 0 ? 'secondary' : _ref$color,\n    tintColor = _ref.tintColor,\n    _ref$initials = _ref.initials,\n    initials = _ref$initials === void 0 ? true : _ref$initials,\n    _ref$uppercase = _ref.uppercase,\n    uppercase = _ref$uppercase === void 0 ? true : _ref$uppercase,\n    _ref$autoColor = _ref.autoColor,\n    autoColor = _ref$autoColor === void 0 ? false : _ref$autoColor,\n    style = _ref.style,\n    contentContainerStyle = _ref.contentContainerStyle,\n    imageContainerStyle = _ref.imageContainerStyle,\n    labelStyle = _ref.labelStyle,\n    imageStyle = _ref.imageStyle;\n  var palette = usePaletteColor(autoColor ? getColor(typeof label === 'string' ? label : '') : color, tintColor);\n  var styles = useStyles(function () {\n    return {\n      container: {\n        width: size,\n        height: size,\n        backgroundColor: palette.main,\n        borderRadius: size / 2\n      },\n      contentContainer: _objectSpread(_objectSpread({}, StyleSheet.absoluteFillObject), {}, {\n        justifyContent: 'center',\n        alignItems: 'center'\n      }),\n      label: {\n        fontSize: size / 2,\n        color: palette.on,\n        textTransform: uppercase ? 'uppercase' : 'none'\n      },\n      image: {\n        width: size,\n        height: size,\n        borderRadius: size / 2\n      }\n    };\n  }, [size, uppercase, palette]);\n  var getLabel = function getLabel() {\n    switch (typeof label) {\n      case 'string':\n        return React.createElement(Text, {\n          variant: \"h6\",\n          style: [styles.label, labelStyle]\n        }, initials ? getInitials(label) : label);\n      case 'function':\n        return label({\n          color: palette.on\n        });\n      default:\n        return label;\n    }\n  };\n  var getImage = function getImage() {\n    if (!image || React.isValidElement(image)) return image;\n    if (typeof image === 'function') return image({\n      size: size\n    });\n    return React.createElement(Image, {\n      source: image,\n      style: [styles.image, imageStyle]\n    });\n  };\n  var getIcon = function getIcon() {\n    if (typeof icon === 'function') return icon({\n      color: palette.on,\n      size: size / 2\n    });\n    return icon;\n  };\n  return React.createElement(View, {\n    style: [styles.container, style]\n  }, (label || icon) && React.createElement(View, {\n    style: [styles.contentContainer, contentContainerStyle]\n  }, label ? getLabel() : icon && getIcon()), image && React.createElement(View, {\n    style: [StyleSheet.absoluteFillObject, imageContainerStyle]\n  }, getImage()));\n};\nfunction getColor(label) {\n  var hash = 0;\n  var i;\n  for (i = 0; i < label.length; i += 1) {\n    hash = label.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  var color = '#';\n  for (i = 0; i < 3; i += 1) {\n    var value = hash >> i * 8 & 0xff;\n    color += (\"00\" + value.toString(16)).substr(-2);\n  }\n  return color;\n}\nfunction getInitials(label) {\n  var namesArray = label.trim().split(' ');\n  if (namesArray.length === 1) return \"\" + namesArray[0].charAt(0);else return \"\" + namesArray[0].charAt(0) + namesArray[namesArray.length - 1].charAt(0);\n}\nexport default Avatar;","map":{"version":3,"sources":["Avatar.tsx"],"names":["React","Text","usePaletteColor","useStyles","Avatar","label","image","icon","size","color","tintColor","initials","uppercase","autoColor","style","contentContainerStyle","imageContainerStyle","labelStyle","imageStyle","palette","getColor","styles","container","width","height","backgroundColor","main","borderRadius","contentContainer","StyleSheet","absoluteFillObject","justifyContent","alignItems","fontSize","on","textTransform","getLabel","getInitials","getImage","isValidElement","getIcon","hash","i","length","charCodeAt","value","toString","substr","namesArray","trim","split","charAt"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Image,\n  ImageSourcePropType,\n  ImageStyle,\n  StyleProp,\n  StyleSheet,\n  TextStyle,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport Text from './Text';\nimport { Color, usePaletteColor } from './hooks/use-palette-color';\nimport { useStyles } from './hooks/use-styles';\n\nexport interface AvatarProps {\n  label?: string | React.ReactElement | ((props: { color: string }) => React.ReactElement | null) | null;\n\n  image?: ImageSourcePropType | React.ReactElement | ((props: { size: number }) => React.ReactElement | null) | null;\n\n  icon?: React.ReactElement | ((props: { color: string; size: number }) => React.ReactElement | null) | null;\n\n  size?: number;\n\n  color?: Color;\n\n  tintColor?: Color;\n\n  initials?: boolean;\n\n  uppercase?: boolean;\n\n  autoColor?: boolean;\n\n  style?: StyleProp<ViewStyle>;\n\n  contentContainerStyle?: StyleProp<ViewStyle>;\n\n  imageContainerStyle?: StyleProp<ViewStyle>;\n\n  labelStyle?: StyleProp<TextStyle>;\n\n  imageStyle?: StyleProp<ImageStyle>;\n}\n\nconst Avatar: React.FC<AvatarProps> = ({\n  label,\n  image,\n  icon,\n  size = 56,\n  color = 'secondary',\n  tintColor,\n  initials = true,\n  uppercase = true,\n  autoColor = false,\n  style,\n  contentContainerStyle,\n  imageContainerStyle,\n  labelStyle,\n  imageStyle,\n}) => {\n  const palette = usePaletteColor(autoColor ? getColor(typeof label === 'string' ? label : '') : color, tintColor);\n\n  const styles = useStyles(\n    () => ({\n      container: {\n        width: size,\n        height: size,\n        backgroundColor: palette.main,\n        borderRadius: size / 2,\n      },\n      contentContainer: {\n        ...StyleSheet.absoluteFillObject,\n        justifyContent: 'center',\n        alignItems: 'center',\n      },\n      label: {\n        fontSize: size / 2,\n        color: palette.on,\n        textTransform: uppercase ? 'uppercase' : 'none',\n      },\n      image: {\n        width: size,\n        height: size,\n        borderRadius: size / 2,\n      },\n    }),\n    [size, uppercase, palette]\n  );\n\n  const getLabel = () => {\n    switch (typeof label) {\n      case 'string':\n        return (\n          <Text variant=\"h6\" style={[styles.label, labelStyle]}>\n            {initials ? getInitials(label) : label}\n          </Text>\n        );\n      case 'function':\n        return label({ color: palette.on });\n      default:\n        return label;\n    }\n  };\n\n  const getImage = () => {\n    if (!image || React.isValidElement(image)) return image;\n    if (typeof image === 'function') return image({ size });\n    return <Image source={image} style={[styles.image, imageStyle]} />;\n  };\n\n  const getIcon = () => {\n    if (typeof icon === 'function') return icon({ color: palette.on, size: size / 2 });\n    return icon;\n  };\n\n  return (\n    <View style={[styles.container, style]}>\n      {(label || icon) && (\n        <View style={[styles.contentContainer, contentContainerStyle]}>{label ? getLabel() : icon && getIcon()}</View>\n      )}\n      {image && <View style={[StyleSheet.absoluteFillObject, imageContainerStyle]}>{getImage()}</View>}\n    </View>\n  );\n};\n\nfunction getColor(label: string) {\n  let hash = 0;\n  let i;\n  for (i = 0; i < label.length; i += 1) {\n    hash = label.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\n\nfunction getInitials(label: string) {\n  const namesArray = label.trim().split(' ');\n  if (namesArray.length === 1) return `${namesArray[0].charAt(0)}`;\n  else return `${namesArray[0].charAt(0)}${namesArray[namesArray.length - 1].charAt(0)}`;\n}\n\nexport default Avatar;\n"]},"metadata":{},"sourceType":"module"}
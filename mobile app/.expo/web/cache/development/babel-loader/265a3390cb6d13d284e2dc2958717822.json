{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getContainerStyle = exports.generateBackgroundColor = exports.generateBackgroundStyle = exports.fetchImage = exports.sumChars = exports.abbr = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _initials = _interopRequireDefault(require(\"initials\"));\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\nvar abbr = function abbr(name, noUpperCase) {\n  var abbr = (0, _initials.default)(name, noUpperCase);\n  if (name.startsWith('+')) {\n    abbr = \"+\".concat(abbr);\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  if (abbr.length > 2) {\n    abbr = abbr.substring(0, 2);\n  }\n  if (!noUpperCase) {\n    abbr = abbr.toUpperCase();\n  }\n  return abbr;\n};\nexports.abbr = abbr;\nvar sumChars = function sumChars(str) {\n  var sum = 0;\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum;\n};\nexports.sumChars = sumChars;\nvar fetchImage = function fetchImage(src, options) {\n  var fetchCall, contentTypeHeader;\n  return _regenerator.default.async(function fetchImage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regenerator.default.awrap((0, _nodeFetch.default)(src, options));\n        case 3:\n          fetchCall = _context.sent;\n          contentTypeHeader = _reactNative.Platform.OS === 'web' ? fetchCall.headers.get('content-type') : fetchCall.headers.map['content-type'];\n          if (!contentTypeHeader.startsWith('image/')) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", true);\n        case 9:\n          console.warn('Online fetched source is not a supported image');\n          return _context.abrupt(\"return\", false);\n        case 11:\n          _context.next = 17;\n          break;\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          console.warn('Error fetching source, falling back to initials', _context.t0);\n          return _context.abrupt(\"return\", false);\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 13]], Promise);\n};\nexports.fetchImage = fetchImage;\nvar generateBackgroundStyle = function generateBackgroundStyle(name, bgColor, bgColors) {\n  var background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    var i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {\n    backgroundColor: background\n  };\n};\nexports.generateBackgroundStyle = generateBackgroundStyle;\nvar generateBackgroundColor = function generateBackgroundColor(name, bgColor, bgColors) {\n  var background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    var i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return background;\n};\nexports.generateBackgroundColor = generateBackgroundColor;\nvar getContainerStyle = function getContainerStyle(size, src, borderRadius) {\n  return {\n    borderRadius: borderRadius ? borderRadius : size * 0.5,\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n};\nexports.getContainerStyle = getContainerStyle;","map":{"version":3,"sources":["helpers.js"],"names":["abbr","name","noUpperCase","startsWith","console","warn","length","substring","toUpperCase","sumChars","str","sum","i","charCodeAt","fetchImage","src","options","fetchCall","contentTypeHeader","Platform","OS","headers","get","map","generateBackgroundStyle","bgColor","bgColors","background","backgroundColor","generateBackgroundColor","getContainerStyle","size","borderRadius","borderWidth","borderColor","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import {Platform} from 'react-native';\nimport initials from 'initials';\nimport fetch from 'node-fetch';\n\nexport const abbr = (name, noUpperCase) => {\n  let abbr = initials(name, noUpperCase);\n  if (name.startsWith('+')) {\n    abbr = `+${ abbr }`;\n  }\n  if (!abbr) {\n    console.warn('Could not get abbr from name');\n    abbr = name;\n  }\n  if (abbr.length > 2) {\n    abbr = abbr.substring(0, 2);\n  }\n  if (!noUpperCase) {\n    abbr = abbr.toUpperCase();\n  }\n  return abbr;\n};\n\nexport const sumChars = (str) => {\n  let sum = 0;\n  for (let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n};\n\nexport const fetchImage = async (src, options) => {\n  try {\n    const fetchCall = await fetch(src, options);\n    const contentTypeHeader = Platform.OS === 'web' ?\n      fetchCall.headers.get('content-type') :\n      fetchCall.headers.map['content-type'];\n    if (contentTypeHeader.startsWith('image/')) {\n      return true;\n    } else {\n      console.warn('Online fetched source is not a supported image');\n      return false;\n    }\n  } catch (err) {\n    console.warn('Error fetching source, falling back to initials', err);\n    return false;\n  }\n};\n\nexport const generateBackgroundStyle = (name, bgColor, bgColors) => {\n  let background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    // Pick a deterministic color from the list\n    const i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return {backgroundColor: background};\n};\n\nexport const generateBackgroundColor = (name, bgColor, bgColors) => {\n  let background;\n  if (bgColor) {\n    background = bgColor;\n  } else {\n    // Pick a deterministic color from the list\n    const i = sumChars(name) % bgColors.length;\n    background = bgColors[i];\n  }\n  return background;\n};\n\nexport const getContainerStyle = (size, src, borderRadius) => {\n  return {\n    borderRadius: borderRadius ? borderRadius : (size * 0.5),\n    borderWidth: src ? 0 : 1,\n    borderColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n};\n"]},"metadata":{},"sourceType":"script"}
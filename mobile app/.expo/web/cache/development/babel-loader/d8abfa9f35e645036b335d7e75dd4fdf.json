{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Portal } from \"./base/PortalContext\";\nimport Surface from \"./Surface\";\nvar Dialog = function Dialog(_ref) {\n  var _ref$visible = _ref.visible,\n    visible = _ref$visible === void 0 ? false : _ref$visible,\n    onDismiss = _ref.onDismiss,\n    children = _ref.children;\n  var _useState = useState(visible),\n    _useState2 = _slicedToArray(_useState, 2),\n    portalVisible = _useState2[0],\n    setPortalVisible = _useState2[1];\n  var animatedValue = useMemo(function () {\n    return new Animated.Value(visible ? 1 : 0);\n  }, []);\n  useEffect(function () {\n    if (visible) setPortalVisible(true);\n    Animated.timing(animatedValue, {\n      toValue: visible ? 1 : 0,\n      duration: 225,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'android'\n    }).start(function () {\n      if (!visible) setPortalVisible(false);\n    });\n  }, [visible]);\n  if (!portalVisible) return null;\n  return React.createElement(Portal, null, React.createElement(TouchableWithoutFeedback, {\n    onPress: onDismiss\n  }, React.createElement(Animated.View, {\n    style: [StyleSheet.absoluteFill, styles.backdrop, {\n      opacity: animatedValue\n    }]\n  })), React.createElement(Animated.View, {\n    style: [StyleSheet.absoluteFill, styles.container, {\n      opacity: animatedValue\n    }],\n    pointerEvents: \"box-none\",\n    needsOffscreenAlphaCompositing: Platform.OS === 'android'\n  }, React.createElement(Surface, {\n    category: \"medium\",\n    elevation: 24,\n    style: [styles.surface]\n  }, children)));\n};\nvar styles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0,0,0,.5)'\n  },\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  surface: {\n    width: 280,\n    marginHorizontal: 40\n  }\n});\nexport default Dialog;","map":{"version":3,"sources":["Dialog.tsx"],"names":["React","useEffect","useMemo","useState","Portal","Surface","Dialog","visible","onDismiss","children","portalVisible","setPortalVisible","animatedValue","Animated","Value","timing","toValue","duration","easing","Easing","out","cubic","useNativeDriver","Platform","OS","start","StyleSheet","absoluteFill","styles","backdrop","opacity","container","surface","create","backgroundColor","justifyContent","alignItems","width","marginHorizontal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,QAApC,QAAoD,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,SAASC,MAAT;AACA,OAAOC,OAAP;AAQA,IAAMC,MAA6B,GAAG,SAAhCA,MAA6B,CAAG,IAAA,EAA8C;EAA7C,mBAA6C,IAAA,CAA3CC,OAAO;IAAPA,OAAO,6BAAG,KAAZ;IAAmBC,SAAnB,GAA6C,IAAA,CAA1BA,SAAnB;IAA8BC,QAAAA,GAAe,IAAA,CAAfA,QAAAA;EACnE,gBAA0CN,QAAQ,CAACI,OAAD,CAAlD;IAAA;IAAOG,aAAD;IAAgBC,gBAAhB;EAEN,IAAMC,aAAa,GAAGV,OAAO,CAAC;IAAA,OAAM,IAAIW,QAAQ,CAACC,KAAb,CAAmBP,OAAO,GAAG,CAAH,GAAO,CAAjC,CAAP;EAAA,GAA4C,EAA5C,CAA7B;EAEAN,SAAS,CAAC,YAAM;IACd,IAAIM,OAAJ,EAAaI,gBAAgB,CAAC,IAAD,CAAhBA;IAEbE,QAAQ,CAACE,MAATF,CAAgBD,aAAhBC,EAA+B;MAC7BG,OAAO,EAAET,OAAO,GAAG,CAAH,GAAO,CADM;MAE7BU,QAAQ,EAAE,GAFmB;MAG7BC,MAAM,EAAEC,MAAM,CAACC,GAAPD,CAAWA,MAAM,CAACE,KAAlBF,CAHqB;MAI7BG,eAAe,EAAEC,QAAQ,CAACC,EAATD,KAAgB;IAJJ,CAA/BV,CAAAA,CAKGY,KALHZ,CAKS,YAAM;MACb,IAAI,CAACN,OAAL,EAAcI,gBAAgB,CAAC,KAAD,CAAhBA;IACf,CAPDE,CAAAA;EAQD,CAXQ,EAWN,CAACN,OAAD,CAXM,CAATN;EAaA,IAAI,CAACS,aAAL,EAAoB,OAAO,IAAP;EAEpB,OACE,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA,IAAA,EACE,KAAA,CAAA,aAAA,CAAC,wBAAD,EAAA;IAA0B,OAAO,EAAEF;EAAnC,CAAA,EACE,KAAA,CAAA,aAAA,CAAC,QAAD,CAAU,IAAV,EAAA;IAAe,KAAK,EAAE,CAACkB,UAAU,CAACC,YAAZ,EAA0BC,MAAM,CAACC,QAAjC,EAA2C;MAAEC,OAAO,EAAElB;IAAX,CAA3C;EAAtB,CAAA,CADF,CADF,EAIE,KAAA,CAAA,aAAA,CAAC,QAAD,CAAU,IAAV,EAAA;IACE,KAAK,EAAE,CAACc,UAAU,CAACC,YAAZ,EAA0BC,MAAM,CAACG,SAAjC,EAA4C;MAAED,OAAO,EAAElB;IAAX,CAA5C,CADT;IAEE,aAAa,EAAC,UAFhB;IAGE,8BAA8B,EAAEW,QAAQ,CAACC,EAATD,KAAgB;EAHlD,CAAA,EAKE,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;IAAS,QAAQ,EAAC,QAAlB;IAA2B,SAAS,EAAE,EAAtC;IAA0C,KAAK,EAAE,CAACK,MAAM,CAACI,OAAR;EAAjD,CAAA,EACGvB,QADH,CALF,CAJF,CADF;AAgBD,CApCD;AAsCA,IAAMmB,MAAM,GAAG,UAAU,CAACK,MAAX,CAAkB;EAC/BJ,QAAQ,EAAE;IACRK,eAAe,EAAE;EADT,CADqB;EAI/BH,SAAS,EAAE;IACTI,cAAc,EAAE,QADP;IAETC,UAAU,EAAE;EAFH,CAJoB;EAQ/BJ,OAAO,EAAE;IACPK,KAAK,EAAE,GADA;IAEPC,gBAAgB,EAAE;EAFX;AARsB,CAAlB,CAAf;AAcA,eAAehC,MAAf","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Animated, Easing, Platform, StyleSheet, TouchableWithoutFeedback } from 'react-native';\nimport { Portal } from './base/PortalContext';\nimport Surface from './Surface';\n\nexport interface DialogProps {\n  visible?: boolean;\n\n  onDismiss?: () => void;\n}\n\nconst Dialog: React.FC<DialogProps> = ({ visible = false, onDismiss, children }) => {\n  const [portalVisible, setPortalVisible] = useState(visible);\n\n  const animatedValue = useMemo(() => new Animated.Value(visible ? 1 : 0), []);\n\n  useEffect(() => {\n    if (visible) setPortalVisible(true);\n\n    Animated.timing(animatedValue, {\n      toValue: visible ? 1 : 0,\n      duration: 225,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: Platform.OS !== 'android',\n    }).start(() => {\n      if (!visible) setPortalVisible(false);\n    });\n  }, [visible]);\n\n  if (!portalVisible) return null;\n\n  return (\n    <Portal>\n      <TouchableWithoutFeedback onPress={onDismiss}>\n        <Animated.View style={[StyleSheet.absoluteFill, styles.backdrop, { opacity: animatedValue }]} />\n      </TouchableWithoutFeedback>\n      <Animated.View\n        style={[StyleSheet.absoluteFill, styles.container, { opacity: animatedValue }]}\n        pointerEvents=\"box-none\"\n        needsOffscreenAlphaCompositing={Platform.OS === 'android'}\n      >\n        <Surface category=\"medium\" elevation={24} style={[styles.surface]}>\n          {children}\n        </Surface>\n      </Animated.View>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  backdrop: {\n    backgroundColor: 'rgba(0,0,0,.5)',\n  },\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  surface: {\n    width: 280,\n    marginHorizontal: 40,\n  },\n});\n\nexport default Dialog;\n"]},"metadata":{},"sourceType":"module"}